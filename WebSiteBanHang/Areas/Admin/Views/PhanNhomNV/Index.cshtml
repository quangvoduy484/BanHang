@model IEnumerable<WebSiteBanHang.Areas.Admin.ViewModels.PhanNhomNVViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout_admin.cshtml";
}
<div style="padding-bottom: 10px; padding-left: 15px;">
    <a class="btn btn-success" href="/Admin/NCC/Create">Thêm mới</a>
</div>
<div class="col-md-12">
    <table id="pnnv" class="table table-bordered table-striped table-admin" role="grid">
        <tr>
            @*<th>
                    Mã loại
                </th>*@
            @*<th>
                Tên nhân viên
            </th>*@
            @*<th>
                    Email
                </th>
                <th>
                    Số điện thoại
                </th>
                <th>
                    Tên nhân viên
                </th>*@
            <th>
                Phòng ban
            </th>
            <th>Active</th>
        </tr>
        <tbody class="tbody"> </tbody>
    </table>
    <input type="button" class="btn-danger" value="Save" id="Save"  />
</div>
<script type="text/javascript">
    $(document).ready(function () {
        
        $(document).on('load', loadGridView());

        //config toastr
        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": false,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "2000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };
    });
    function loadGridView() {
        $('#pnnv').DataTable({

            serverSide: true,
            ajax: {
                url: "/Admin/PhanNhomNV/getall",
                type: "POST",
                dataType: "JSON",
            },
            language: {
                lengthMenu: "Hiển thị _MENU_ mục",
                zeroRecords: "Không tìm thấy ",
                info: "Hiển thị trang _PAGE_ đến _PAGES_ của _MAX_ mục",
                infoEmpty: "Không có dữ liệu",
                infoFiltered: "(lọc từ _MAX_ tổng mục)",
                search: "Tìm kiếm",
                searchPlaceholder: "Search...",
            },
            columns: [

                { title: "Phòng ban", data: "TenNhom" },
                { title: "Active", data: "Active"},
                //    render: function (data, type, row) {
                //        if (type === 'display') {
                //            return '<input type="checkbox" class="editor-active">';
                //        }
                //        return data;
                //    }
                //},

                {
                    title: "Chức năng",
                    data: function (data, type, dataToSet) {
                        return data.MaNhom + "," + data.TenNV;
                       
                    },
                    searchable: false,
                    sortable: false,
                  
                }
            ],

        });
    }
</script>
